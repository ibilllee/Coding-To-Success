(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-564569f0"],{"0444":function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return o}));s("99af");var r=s("1bab");s("4328");function n(e){return console.log(e),Object(r["a"])({method:"post",url:"/userCode",data:e})}function o(e){return Object(r["a"])({method:"get",url:"/answer?problemId=".concat(e)})}},"0900":function(e,t,s){"use strict";s("0c07")},"0c07":function(e,t,s){},c242:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"problem-page"},[s("div",{staticClass:"main-container"},[s("div",{staticClass:"left-part"},[s("div",{staticClass:"problem-title"},[s("div",{attrs:{id:"title"}},[e._v(e._s(e.probInfo.probTitle))]),s("el-button",{staticClass:"to-answer-button",attrs:{type:"success"},on:{click:function(t){return e.toAnswer()}}},[e._v(" 查看题解 ")]),s("div",{on:{click:function(t){return e.toBack()}}},[s("span",{staticClass:"back"},[e._v("返回>")])])],1),s("div",{staticClass:"problem-content",domProps:{innerHTML:e._s(e.probInfo.content)}},[e._v(" "+e._s(e.probInfo.content)+" ")])]),s("div",{staticClass:"right-part"},[s("div",{ref:"cppEditor",staticClass:"code-part"}),s("div",{staticClass:"result-part"},[s("div",{staticClass:"result-title"},[s("h3",[e._v("返回结果")]),s("div",{staticClass:"score"},[e._v("总分:"+e._s(""==e.score?"暂无总分":e.score))]),s("div",{directives:[{name:"show",rawName:"v-show",value:""!=e.score,expression:"score!=''"}],staticClass:"status",style:{color:e.success?"green":"red"}},[e._v("("+e._s(e.success?"通过！":"未通过!")+")")])]),s("div",{staticClass:"result-content"},[""==e.score?s("div",{staticClass:"null"},[e._v(" 代码尚未提交，未有任何结果！ ")]):s("div",{staticClass:"result-list"},e._l(e.cases,(function(t){return s("div",{key:t.id,staticClass:"result-item",style:{color:"Accept"==t.status?"green":"red"}},[s("span",{staticClass:"dataId"},[e._v("用例序号:"+e._s(t.id))]),s("span",[e._v(e._s(t.status))])])})),0)])]),s("div",{staticClass:"button-part"},[s("el-button",{staticClass:"answer-button",attrs:{type:"primary",disabled:e.disabled,loading:e.disabled},on:{click:function(t){return e.submitCode()}}},[e._v(" 提交代码 ")])],1)])])])},n=[],o=s("b85c"),a=s("1da1"),c=(s("96cf"),s("99af"),s("62a7")),i=s("0444"),u=(s("bc3a"),s("4328"),{name:"Problem",created:function(){var e=this;this.initParams(),this.userInfo=JSON.parse(localStorage.getItem("userInfo")),this.getCode(),this.getCodeTimer=setInterval((function(){localStorage.setItem("".concat(e.userInfo.userId).concat(e.probInfo.probId,"code"),e.code)}),1e3)},data:function(){return{probId:"",code:"#include<iostream>\nusing namespace std;",editor:null,getCodeTimer:null,disabled:!1,probInfo:null,cases:[],score:"",success:!0,userInfo:{}}},methods:{toAnswer:function(){this.$router.push("/index/answer/".concat(this.probInfo.probId))},toBack:function(){this.$router.go(-1)},submitCode:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s,r,n,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.disabled=!0,console.log(e.code),t.next=4,Object(i["b"])({probId:e.probInfo.probId,userCode:e.code});case 4:if(s=t.sent,e.disabled=!1,r=JSON.parse(s.data.data),e.success=!0,e.cases=r.cases,e.score=r.score,0!=e.cases.length){t.next=14;break}e.success=!1,t.next=32;break;case 14:n=Object(o["a"])(e.cases),t.prev=15,n.s();case 17:if((a=n.n()).done){t.next=24;break}if(c=a.value,"Accept"==c.status){t.next=22;break}return e.success=!1,t.abrupt("break",24);case 22:t.next=17;break;case 24:t.next=29;break;case 26:t.prev=26,t.t0=t["catch"](15),n.e(t.t0);case 29:return t.prev=29,n.f(),t.finish(29);case 32:if(console.log(r),!0,0!=e.cases.length){t.next=37;break}return e.$message({message:"编译失败，请检查代码!",type:"warning"}),t.abrupt("return");case 37:e.$message({message:"编译成功，请查看结果!",type:"success"});case 38:case"end":return t.stop()}}),t,null,[[15,26,29,32]])})))()},setEditor:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.editor=new c["CppEditor"](e.$refs["cppEditor"]),t.next=3,e.editor.render();case 3:e.editor.setCode(e.code),e.editor.setDarkMode(!0),e.getCodeTimer=setInterval((function(){e.code=e.editor.getCode()}),1e3);case 6:case"end":return t.stop()}}),t)})))()},initParams:function(){var e=decodeURIComponent(this.$route.params.problem);this.probInfo=JSON.parse(e);var t=this.probInfo.content.indexOf("</h4>");this.probInfo.content=this.probInfo.content.substring(t+5),console.log(this.probInfo)},getCode:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=localStorage.getItem("".concat(e.userInfo.userId).concat(e.probInfo.probId,"code")),null!=s&&(e.code=s,e.$message({type:"info",message:"已恢复您上次编辑的代码"})),console.log(s);case 3:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.setEditor()},watch:{$route:function(e,t){}}}),d=u,l=(s("0900"),s("2877")),p=Object(l["a"])(d,r,n,!1,null,"13e7e3b4",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-564569f0.a9a3bcf2.js.map