(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4139b59e"],{"089f":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tutorial-page"},[o("div",{attrs:{id:"tutorial-container"}},[o("div",{staticClass:"left-part"},[o("div",{staticClass:"tutorial-title"},[t._v(" 教程目录 ")]),o("el-tree",{staticClass:"tutorial-tree",attrs:{data:t.tutorialList,props:t.defaultProps,accordion:""},on:{"node-click":t.handleNodeClick}})],1),t.ifTutorial?o("div",{staticClass:"right-part"},[null!=t.currentTutorial?o("div",[o("div",{staticClass:"tutorial-detail-title"},[o("h1",[t._v("教程"+t._s(t.tutorialInfo.titleNum)+":"+t._s(t.tutorialInfo.titleContent))])]),o("div",{staticClass:"tutorial-detail-content",domProps:{innerHTML:t._s(t.tutorialInfo.content)}},[t._v(" "+t._s(t.tutorialInfo.content)+" ")])]):o("div",{staticClass:"null"},[o("div",{staticClass:"welcome"},[t._v("欢迎来到码到成功平台！")]),o("img",{attrs:{src:n("1e23"),alt:"",id:"index"}})]),null!=t.currentTutorial?o("div",{staticClass:"other-container"},[t._m(0),o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{id:"problem-table",data:t.tutorialInfo.problemList,stripe:""}},[o("el-table-column",{attrs:{prop:"probId",label:"题目ID",width:"180"}}),o("el-table-column",{attrs:{prop:"probTitle",label:"题名"}}),o("el-table-column",{attrs:{label:"题解",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"success"},on:{click:function(n){return t.toAnswer(e.$index,e.row)}}},[t._v("查看题解")])]}}],null,!1,1114459119)}),o("el-table-column",{attrs:{label:"练习",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.toProblem(e.$index,e.row)}}},[t._v("去练习")])]}}],null,!1,4167716762)})],1)],1),o("div",{staticClass:"comment-list"},[o("div",{staticClass:"comment-title"},[t._v(" 评论列表 ")]),o("div",{staticClass:"develop-comment"},[o("div",{staticClass:"userinfo-box"},[o("img",{staticClass:"avatar",attrs:{src:t.userInfo.avatar,alt:""}}),o("div",{staticClass:"user-name"},[t._v(t._s(t.userInfo.userId))])]),o("el-input",{staticClass:"comment-content-area",attrs:{type:"textarea",rows:2,placeholder:"发表一条友善的评论"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),o("div",{staticClass:"comment-button",on:{click:function(e){return t.developComment()}}},[t._v(" 发表"),o("br"),t._v("评论 ")])],1),t._l(t.tutorialInfo.commentList,(function(e){return o("comment-item",{key:e.commentId,attrs:{commentItem:e},on:{replyEmit:t.replyEmit}})})),o("div",{staticClass:"page-box"},[o("el-pagination",{attrs:{background:"","current-page":t.pageInfo.page,"page-sizes":[10,20,30,40],"page-size":t.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.pageInfo.dataTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2)]):t._e()]):t._e(),t.ifTutorial?t._e():o("div",{staticClass:"right-part"})])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"problem-title"},[n("h2",[t._v("相关练习题")])])}],a=n("6b75");function i(t){if(Array.isArray(t))return Object(a["a"])(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function s(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var c=n("06c5");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return i(t)||s(t)||Object(c["a"])(t)||l()}var m=n("b85c"),p=n("1da1"),d=(n("4de4"),n("99af"),n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-item"},[n("div",{staticClass:"main-part"},[n("div",{staticClass:"userinfo-box"},[n("img",{staticClass:"avatar",attrs:{src:"http://"+t.commentItem.commentAvatar,alt:""}}),n("div",{staticClass:"user-name"},[t._v(" "+t._s(t.commentItem.commentUserId)+" ")])]),n("div",{staticClass:"comment-content"},[n("p",[t._v(" "+t._s(t.commentItem.content)+" ")])])]),n("div",{staticClass:"reply",on:{click:function(e){t.ifShow=!t.ifShow}}},[n("span",[t._v("回复")])]),n("transition",{attrs:{name:"el-zoom-in-top"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.ifShow,expression:"ifShow"}],staticClass:"develop-reply-comment"},[n("el-input",{staticClass:"comment-content-area",attrs:{type:"textarea",rows:2,placeholder:"发表一条友善的回复"},model:{value:t.reply,callback:function(e){t.reply=e},expression:"reply"}}),n("div",{staticClass:"reply-button",on:{click:function(e){return t.developReply()}}},[t._v(" 发表"),n("br"),t._v("回复 ")])],1)]),t._l(t.commentItem.replyList,(function(e){return n("div",{key:e.commentId,staticClass:"reply-item"},[n("div",{staticClass:"main-part"},[n("div",{staticClass:"userinfo-box"},[n("img",{staticClass:"avatar",attrs:{src:"http://"+e.commentAvatar,alt:""}}),n("div",{staticClass:"user-name"},[t._v(" "+t._s(e.commentUserId)+" ")])]),n("div",{staticClass:"reply-content"},[n("div",{staticClass:"reply-to"},[t._v(" 回复@"+t._s(t.commentItem.commentUserId)+" ")]),n("p",[t._v(" "+t._s(e.content)+" ")])])]),n("div",{staticClass:"reply",on:{click:function(n){return t.replyRshow(e.commentId)}}},[n("span",[t._v("回复")])]),n("transition",{attrs:{name:"el-zoom-in-top"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.ifShow2&&t.currentReply==e.commentId,expression:"ifShow2&&(currentReply==item.commentId)"}],staticClass:"develop-reply-comment"},[n("el-input",{staticClass:"comment-content-area",attrs:{type:"textarea",rows:2,placeholder:"发表一条友善的回复"},model:{value:t.reply,callback:function(e){t.reply=e},expression:"reply"}}),n("div",{staticClass:"reply-button",on:{click:function(n){return t.developReplyTwo(e.commentId)}}},[t._v(" 发表"),n("br"),t._v("回复 ")])],1)])],1)}))],2)}),f=[];function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=n("1bab");function g(){return Object(h["a"])({method:"GET",url:"/tutorial/first"})}function I(t){return Object(h["a"])({method:"GET",url:"/tutorial/second/".concat(t)})}function b(t){return Object(h["a"])({method:"GET",url:"/tutorial/view?tutoId=".concat(t)})}function y(t){return Object(h["a"])({method:"POST",url:"/comment",data:t})}function w(t){var e=t.tutoId,n=t.page,o=t.pageSize;return console.log("请求参数",t),Object(h["a"])({method:"GET",url:"/tutorial/".concat(e,"/commentList/").concat(n,"/").concat(o)})}var C={props:{commentItem:{type:Object}},created:function(){this.getUserInfo()},data:function(){var t;return t={reply:"",ifShow:!1,ifShow2:!1},v(t,"reply",""),v(t,"replyList",[]),v(t,"userInfo",null),v(t,"currentReply",""),t},methods:{developReply:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={commentTutoId:t.commentItem.commentTutoId,commentUserId:t.userInfo.userId,content:t.reply,replyTo:t.commentItem.commentId},console.log("发表回复",n),e.next=4,y(n);case 4:o=e.sent,console.log(o),t.ifShow=!1,t.$emit("replyEmit"),t.reply="";case 9:case"end":return e.stop()}}),e)})))()},developReplyTwo:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(t),o={commentTutoId:e.commentItem.commentTutoId,commentUserId:e.userInfo.userId,content:e.reply,replyTo:t},console.log("发表回复",o),n.next=5,y(o);case 5:r=n.sent,console.log("回复了回复",r),e.ifShow2=!1,e.$emit("replyEmit"),e.reply="",e.$message({type:"success",message:"发表回复成功"});case 11:case"end":return n.stop()}}),n)})))()},getUserInfo:function(){var t=localStorage.getItem("userInfo");this.userInfo=JSON.parse(t)},replyRshow:function(t){this.ifShow2=!this.ifShow2,this.currentReply=t}}},T=C,L=(n("813a"),n("2877")),x=Object(L["a"])(T,d,f,!1,null,"6020720c",null),_=x.exports;n("62a7"),n("bc3a");function j(){return Object(h["a"])({method:"get",url:"/eduservice/edu-subject/getAll"})}var S={name:"Tutorial",components:{CommentItem:_},data:function(){return{tutorialList:[],defaultProps:{children:"children",label:"label"},comment:"",pageInfo:{page:1,pageSize:10,dataTotal:10,pageTotal:2},userInfo:{},currentTutorial:null,ifTutorial:!0,tutorialInfo:{titleContent:"",titleNum:"",content:"",commentList:[{commentId:"Yballul",commentTutoId:9,commentUserId:12,content:"极其美妙",replyTo:1,replyOrder:20,avatar:"https://guli-education-project-mbj.oss-cn-beijing.aliyuncs.com/2021/06/03/59c13ff52d524d9dbd802d5ebbde62dd1bf21119367adab4502d4a129cd4b31c8501e4cb.jpg?versionId=CAEQDRiBgMD1wrfDzhciIDJmNWQxY2QxMmZmYzQ3ODc4MDU3NzNiM2VhZDU3Mzhi"}],problemList:[{probId:1,probTitle:"打家劫舍",content:"打家劫舍"},{probId:2,probTitle:"黑熊过河",content:"黑熊过河"}]},totalCommentList:[],primaryCommentList:[]}},methods:{testNetwork:function(){return Object(p["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j();case 2:e=t.sent,console.log(e);case 4:case"end":return t.stop()}}),t)})))()},handleNodeClick:function(t){this.currentTutorial=t.tutoId,this.getTutorialById()},handleSizeChange:function(t){this.pageInfo.pageSize=t,this.pageComment()},handleCurrentChange:function(t){this.pageInfo.page=t,this.pageComment()},developComment:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={commentTutoId:t.currentTutorial,commentUserId:t.userInfo.userId,content:t.comment,replyTo:null},console.log("发表评论"),e.next=4,y(n);case 4:e.sent,t.getTutorialById(),t.$message({message:"发表评论成功!",type:"success"}),t.comment="";case 8:case"end":return e.stop()}}),e)})))()},handleEdit:function(t,e){console.log(t,e)},toProblem:function(t,e){var n=encodeURIComponent(JSON.stringify(e));this.$router.push({path:"/index/problem/".concat(n)})},toAnswer:function(t,e){var n=e.probId;this.$router.push("/index/answer/".concat(n))},getTutorialById:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n,o,r,a,i,s,c,l,p,d,f,v,h,g,I,y,w,C;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b(t.currentTutorial);case 2:n=e.sent,console.log("教程详情",n),o=n.data.data,t.$turn(t.tutorialInfo,o),console.log(o.commentList),t.primaryCommentList=o.commentList,t.tutorialInfo.commentList=t.tutorialInfo.commentList.filter((function(t){return null==t.replyTo})),console.log("过滤后",t.tutorialInfo.commentList),r=Object(m["a"])(t.tutorialInfo.commentList);try{for(r.s();!(a=r.n()).done;){i=a.value,i.commentTutoId=t.currentTutorial,i.replyList=[],s=Object(m["a"])(o.commentList);try{for(s.s();!(c=s.n()).done;)l=c.value,l.replyTo==i.commentId&&i.replyList.push(l)}catch(T){s.e(T)}finally{s.f()}}}catch(T){r.e(T)}finally{r.f()}p=Object(m["a"])(t.tutorialInfo.commentList);try{for(p.s();!(d=p.n()).done;){f=d.value,v=Object(m["a"])(f.replyList);try{for(g=function(){var e=h.value;console.log("总量",t.primaryCommentList);var n=t.primaryCommentList.filter((function(t){return t.replyTo==e.commentId}));console.log("回复的回复",n),f.replyList=[].concat(u(f.replyList),u(n))},v.s();!(h=v.n()).done;)g()}catch(T){v.e(T)}finally{v.f()}}}catch(T){p.e(T)}finally{p.f()}t.totalCommentList=t.tutorialInfo.commentList,t.pageComment(),console.log("评论s",t.tutorialInfo.commentList),console.log(o.problemList),t.tutorialInfo.problemList=o.problemList,I=Object(m["a"])(t.tutorialInfo.problemList);try{for(I.s();!(y=I.n()).done;)w=y.value,C=w.content.indexOf("</h4>"),w.probTitle=w.content.substring(4,C)}catch(T){I.e(T)}finally{I.f()}console.log("问题列表",t.tutorialInfo.problemList),t.$message({message:"加载数据成功!",type:"success"});case 23:case"end":return e.stop()}}),e)})))()},getAllTutorialsForOneSubject:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n,o,r,a,i,s,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:n=e.sent,o=n.data.data,r=o.titleContentList,a=[],i=Object(m["a"])(r),e.prev=7,i.s();case 9:if((s=i.n()).done){e.next=17;break}return c=s.value,l={label:"".concat(c.titleNum,"-").concat(c.titleContent),tutoId:c.tutoId,index:t.tutorialList.length},e.next=14,t.getAllTutorialsForTwoSubject(l);case 14:a.push(l);case 15:e.next=9;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](7),i.e(e.t0);case 22:return e.prev=22,i.f(),e.finish(22);case 25:t.tutorialList=a,console.log("list",t.tutorialList);case 27:case"end":return e.stop()}}),e,null,[[7,19,22,25]])})))()},getUserInfo:function(){var t=JSON.parse(localStorage.getItem("userInfo"));this.userInfo=t,console.log(this.userInfo)},getAllTutorialsForTwoSubject:function(t){return Object(p["a"])(regeneratorRuntime.mark((function e(){var n,o,r,a,i,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I(t.tutoId);case 2:n=e.sent,o=n.data.data,r=o.titleContentList,a=[],i=Object(m["a"])(r);try{for(i.s();!(s=i.n()).done;)c=s.value,a.push({label:"".concat(c.titleNum,"-").concat(c.titleContent),tutoId:c.tutoId})}catch(l){i.e(l)}finally{i.f()}t.children=a;case 9:case"end":return e.stop()}}),e)})))()},testInterface:function(){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},getCommentById:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n,o,r,a,i,s,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={tutoId:t.currentTutorial,page:t.pageInfo.page,pageSize:t.pageInfo.pageSize},console.log("请求",n),e.next=4,w(n);case 4:o=e.sent,t.tutorialInfo.commentList=o.data.data.commentList,r=Object(m["a"])(t.tutorialInfo.commentList);try{for(r.s();!(a=r.n()).done;)if(i=a.value,i.commentTutoId=t.currentTutorial,null==i.replyTo){i.replyList=[],s=Object(m["a"])(t.tutorialInfo.commentList);try{for(s.s();!(c=s.n()).done;)l=c.value,l.replyTo==i.commentId&&i.replyList.push(l)}catch(u){s.e(u)}finally{s.f()}}}catch(u){r.e(u)}finally{r.f()}console.log("评论",t.tutorialInfo.commentList),t.$turn(t.pageInfo,o.data.data);case 10:case"end":return e.stop()}}),e)})))()},replyEmit:function(){this.getTutorialById()},pageComment:function(){console.log(this.totalCommentList),this.pageInfo.dataTotal=this.totalCommentList.length,this.pageInfo.pageTotal=this.pageInfo.dataTotal/this.pageInfo.pageSize;var t=[],e=(this.pageInfo.page-1)*this.pageInfo.pageSize;console.log(e);var n=this.pageInfo.dataTotal;n=e+this.pageInfo.pageSize>n?n:e+this.pageInfo.pageSize,console.log("border",n);for(var o=e;o<n;o++)t.push(this.totalCommentList[o]);this.tutorialInfo.commentList=t,console.log("新的",this.tutorialInfo.commentList)}},created:function(){this.getAllTutorialsForOneSubject(),this.getUserInfo()},mounted:function(){}},O=S,k=(n("66f0"),Object(L["a"])(O,o,r,!1,null,"7ce83adf",null));e["default"]=k.exports},"1e23":function(t,e,n){t.exports=n.p+"img/index.bd3f972e.jpg"},"30d7":function(t,e,n){},"4de4":function(t,e,n){"use strict";var o=n("23e7"),r=n("b727").filter,a=n("1dde"),i=a("filter");o({target:"Array",proto:!0,forced:!i},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"5ab0":function(t,e,n){},"66f0":function(t,e,n){"use strict";n("30d7")},"813a":function(t,e,n){"use strict";n("5ab0")}}]);
//# sourceMappingURL=chunk-4139b59e.b7cf276d.js.map